
<!DOCTYPE html>
<html>
<head>
    <title>TileStache Preview: simple</title>
    <link href="http://mapbox.com/wax/css/controls.css" rel="stylesheet" type="text/css" />
    <script src="http://code.modestmaps.com/tilestache/modestmaps.min.js" type="text/javascript"></script>
    <script src="http://mapbox.com/wax/dist/wax.mm.min.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
    <style type="text/css">
        html, body, #map {
            position: absolute;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script type="text/javascript" defer>
    <!--
        var template = 'simple/{Z}/{X}/{Y}.png';
        var provider = new com.modestmaps.TemplatedMapProvider(template);
        var map = new MM.Map('map', provider, null, [
            new MM.TouchHandler(),
            new MM.DragHandler(),
            new MM.DoubleClickHandler(),
            new MM.MouseWheelHandler()
        ]);
        map.setCenterZoom(new com.modestmaps.Location(54.530200, 36.259700), 12);

        wax.mm.zoomer(map).appendTo(map.parent);
        wax.mm.interaction().map(map)
            .tilejson({grids: ['grid/{z}/{x}/{y}.json'], template: "{{#name}}<strong>{{name}}</strong>{{/name}}{{#housenumber}}{{street}}, {{housenumber}}{{/housenumber}}"})
            .on(wax.tooltip().animate(true).parent(map.parent).events());

        // hashify it
        new MM.Hash(map);
    //-->
    </script>
</body>
</html>
